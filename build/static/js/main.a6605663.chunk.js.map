{"version":3,"sources":["UserContext.js","Components/Header/HeaderMenu.js","Components/Header/Header.js","Config/Firebase.js","Components/Posts/Comments.js","Components/Posts/CommentForm.js","Components/Posts/SinglePost.js","Components/ProfilePage.js","Components/Posts/Posts.js","Components/CreatePost/CreatePost.js","Components/Welcome.js","Components/Home.js","App.js","index.js"],"names":["UserContext","React","createContext","HeaderMenu","slideUp","className","onClick","window","scrollTo","top","behavior","alert","Header","login","user","logout","to","style","fontWeight","userSelect","displayName","firebaseApp","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","storage","storageRef","ref","provider","GoogleAuthProvider","Comments","username","comment","commentId","postId","useContext","email","replace","collection","doc","delete","CommentForm","id","comments","useState","commentInput","setCommentInput","name","cols","rows","placeholder","value","onChange","e","target","type","preventDefault","add","timestamp","FieldValue","serverTimestamp","then","console","log","catch","error","SingePost","caption","uploadedImage","userPhoto","getUsername","imageName","setComments","useEffect","orderBy","onSnapshot","snapshot","docs","map","data","src","alt","pathname","child","fontSize","cursor","Profile","profileUser","posts","setPosts","where","post","filter","SinglePost","Posts","CreatePost","slideUpload","setSlideUpload","setCaption","image","setImage","progressBar","setProgressBar","fileName","setFilename","action","htmlFor","color","size","files","accept","put","on","progress","Math","floor","round","bytesTransferred","totalBytes","message","getDownloadURL","imageUrl","photoURL","Welcome","marginBottom","height","display","alignItems","justifyContent","Home","App","setUser","setProfileUser","onAuthStateChanged","authUser","a","signOut","Provider","setPersistence","signInWithPopup","res","loggedinUser","path","exact","innerText","toLowerCase","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a6605663.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const UserContext = React.createContext(null);\n","import { AiFillHome, AiFillMessage } from \"react-icons/ai\";\nimport { GoPerson } from \"react-icons/go\";\nimport { MdAddAPhoto } from \"react-icons/md\";\n\nconst HeaderMenu = ({ slideUp }) => {\n  const scrollToTop = () => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n  return (\n    /// Menu items\n    <ul className=\"header__menu\">\n      <li className=\"header__menu_items\">\n        <a>\n          <AiFillHome className=\"header__icons\" onClick={scrollToTop} />\n        </a>\n      </li>\n      <li className=\"header__menu_items\">\n        <a>\n          <AiFillMessage\n            className=\"header__icons inbox\"\n            onClick={() => {\n              alert(\"Feature will be implemented soon\");\n            }}\n          />\n        </a>\n      </li>\n      <li className=\"header__menu_items\">\n        <a>\n          <GoPerson\n            className=\"header__icons profile\"\n            onClick={() => {\n              alert(\"Feature will be implemented soon\");\n            }}\n          />\n        </a>\n      </li>\n      <li className=\"header__menu_items new_post\">\n        <a>\n          <MdAddAPhoto className=\"header__icons\" onClick={slideUp} />\n        </a>\n      </li>\n    </ul>\n  );\n};\n\nexport default HeaderMenu;\n","import \"../../Css-styles/Header.css\";\nimport { Link } from \"react-router-dom\";\n\nimport HeaderMenu from \"./HeaderMenu\";\n\nconst Header = ({ slideUp, login, user, logout }) => {\n  return (\n    <div className=\"header\">\n      <div className=\"header__inner_container\">\n        <Link to=\"/\">\n          <h1>Snapgram</h1>\n        </Link>\n\n        {/* CONDITIONAL RENDERING FOR USER*/}\n        {user ? (\n          <nav className=\"header__nav\">\n            <HeaderMenu slideUp={slideUp} />\n            <div className=\"header__nav_profile\">\n              <p style={{ fontWeight: \"600\", userSelect: \"none\" }}>\n                {user ? `Hello, ${user.displayName}` : \" \"}\n              </p>\n              <a className=\"btn header__logout_btn\" onClick={logout}>\n                Logout\n              </a>\n            </div>\n          </nav>\n        ) : (\n          <a className=\" btn header__login_btn\" onClick={login}>\n            Log-in/Sign-Up\n          </a>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import firebase from \"firebase\";\n\nconst firebaseApp = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: \"snapgram-43830\",\n  storageBucket: \"snapgram-43830.appspot.com\",\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nconst auth = firebase.auth();\nconst db = firebaseApp.firestore();\nconst storage = firebase.storage();\nconst storageRef = storage.ref();\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nexport { auth, db, storage, provider, storageRef };\n","import { useContext } from \"react\";\nimport { UserContext } from \"../../UserContext\";\nimport { BiTrash } from \"react-icons/bi\";\nimport { db } from \"../../Config/Firebase\";\n\nconst Comments = ({ username, comment, commentId, postId }) => {\n  const user = useContext(UserContext);\n\n  /// Comment deletion (User Can delete only comment that he/she posted)\n  const deleteComment = () => {\n    db.collection(\"posts\")\n      .doc(postId)\n      .collection(\"comments\")\n      .doc(commentId)\n      .delete();\n  };\n\n  return (\n    <div className=\"comment\">\n      <h3 className=\"comment__username\">{username}</h3>\n      <p className=\"comment__text\">{comment}</p>\n\n      {user && user.email.replace(\"@gmail.com\", \"\") === username ? (\n        <BiTrash className=\"comment__delete\" onClick={deleteComment} />\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n};\n\nexport default Comments;\n","import { useState } from \"react\";\n\nimport { db } from \"../../Config/Firebase\";\nimport firebase from \"firebase\";\n\nconst CommentForm = ({ id, user, comments }) => {\n  const [commentInput, setCommentInput] = useState(\"\");\n\n  //// Pushing comments to comments sub collection based on individual posts ID\n  const commentHandler = (e) => {\n    e.preventDefault();\n\n    db.collection(\"posts\")\n      .doc(id)\n      .collection(\"comments\")\n      .add({\n        username: user.email.replace(\"@gmail.com\", \"\"),\n        comment: commentInput,\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      })\n      .then(() => {\n        setCommentInput(\"\");\n        console.log(\"Comment added to db\");\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  return (\n    <form className=\"comment_form\">\n      <textarea\n        name=\"\"\n        id=\"\"\n        cols=\"15\"\n        rows=\"3\"\n        className=\"comment_form__input\"\n        placeholder=\"Type your comment here...\"\n        value={commentInput}\n        onChange={(e) => {\n          setCommentInput(e.target.value);\n        }}\n      ></textarea>\n      <button\n        type=\"submit\"\n        className=\"comment_form__button\"\n        onClick={commentHandler}\n      >\n        Post\n      </button>\n    </form>\n  );\n};\n\nexport default CommentForm;\n","import Comments from \"./Comments\";\r\nimport CommentForm from \"./CommentForm\";\r\nimport { useContext, useState, useEffect } from \"react\";\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { BiTrash } from \"react-icons/bi\";\r\nimport { db, storageRef, storage } from \"../../Config/Firebase\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SingePost = ({\r\n  username,\r\n  caption,\r\n  uploadedImage,\r\n  userPhoto,\r\n  postId,\r\n  getUsername,\r\n  imageName,\r\n}) => {\r\n  const user = useContext(UserContext);\r\n  const [comments, setComments] = useState([]);\r\n\r\n  /// Retriving comments from Firebase DB on page reload\r\n  useEffect(() => {\r\n    if (postId) {\r\n      db.collection(\"posts\")\r\n        .doc(postId)\r\n        .collection(\"comments\")\r\n        .orderBy(\"timestamp\")\r\n        .onSnapshot((snapshot) => {\r\n          setComments(\r\n            snapshot.docs.map((comment) => ({\r\n              comment: comment.data(),\r\n              commentId: comment.id,\r\n            }))\r\n          );\r\n        });\r\n    }\r\n  }, [postId]);\r\n\r\n  /// Post Deletion (User can delete only the posts that he uploaded)\r\n  const deletePost = () => {\r\n    //DELETING IMAGE FROM STORAGE\r\n    storageRef\r\n      .child(`images/${imageName}`)\r\n      .delete()\r\n      .then(() => {\r\n        console.log(\"Uploaded image also deleted\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n    /// DELETING DOCUMENT\r\n    db.collection(\"posts\")\r\n      .doc(postId)\r\n      .delete()\r\n      .then(() => {\r\n        console.log(\"Post  deleted \");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"single_post\">\r\n      <div className=\"single_post__header\">\r\n        <img src={userPhoto} alt=\"user\" className=\"single_post__thumbnail\" />\r\n\r\n        <Link to={{ pathname: `/${username}` }}>\r\n          <h3 className=\"single_post__username\" onClick={getUsername}>\r\n            {username}\r\n          </h3>\r\n        </Link>\r\n\r\n        <div className=\"single_post__delete\">\r\n          {user && user.email.replace(\"@gmail.com\", \"\") === username ? (\r\n            <BiTrash\r\n              onClick={deletePost}\r\n              style={{ fontSize: \"23px\", cursor: \"pointer\" }}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"single_post__data\">\r\n        <img src={uploadedImage} alt=\"random\" className=\"single_post__image\" />\r\n        <div className=\"single_post__caption__container\">\r\n          <h3 className=\"single_post__username\">{username}</h3>\r\n          <p className=\"single_post__caption\">{caption}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"comments__container\">\r\n        {comments\r\n          ? comments.map(({ comment, commentId }) => {\r\n              return (\r\n                <Comments\r\n                  key={commentId}\r\n                  username={comment.username}\r\n                  comment={comment.comment}\r\n                  commentId={commentId}\r\n                  postId={postId}\r\n                />\r\n              );\r\n            })\r\n          : \"\"}\r\n      </div>\r\n\r\n      {/*ONLY LOGGED IN USER CAN COMMENT */}\r\n      {user ? (\r\n        <CommentForm key={postId} id={postId} user={user} comments={comments} />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SingePost;\r\n","import { useState, useEffect } from \"react\";\r\nimport SinglePost from \"./Posts/SinglePost\";\r\nimport \"../Css-styles/Posts.css\";\r\nimport { useContext } from \"react\";\r\nimport { UserContext } from \"../UserContext\";\r\n\r\nimport { db } from \"../Config/Firebase\";\r\n\r\nconst Profile = ({ profileUser }) => {\r\n  const user = useContext(UserContext);\r\n\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  /// Retriving comments from Firebase DB on page reload\r\n\r\n  useEffect(() => {\r\n    db.collection(\"posts\")\r\n      .where(\"username\", \"==\", profileUser)\r\n      .onSnapshot((snapshot) => {\r\n        setPosts(\r\n          snapshot.docs.map((doc) => ({\r\n            postId: doc.id,\r\n            post: doc.data(),\r\n          }))\r\n        );\r\n      });\r\n  }, [profileUser]);\r\n\r\n  return (\r\n    <section\r\n      className=\"posts\"\r\n      style={{\r\n        filter: user ? \"blur(0px)\" : \"blur(6px)\",\r\n        userSelect: user ? \"\" : \"none\",\r\n      }}\r\n    >\r\n      {posts.map(({ postId, post }) => {\r\n        return (\r\n          <SinglePost\r\n            postId={postId}\r\n            key={postId}\r\n            uploadedImage={post.uploadedImage}\r\n            caption={post.caption}\r\n            username={post.username}\r\n            userPhoto={post.userPhoto}\r\n          />\r\n        );\r\n      })}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import { useState, useEffect } from \"react\";\nimport SinglePost from \"./SinglePost\";\nimport \"../../Css-styles/Posts.css\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"../../UserContext\";\n\nimport { db } from \"../../Config/Firebase\";\n\nconst Posts = ({ getUsername }) => {\n  const user = useContext(UserContext);\n\n  const [posts, setPosts] = useState([]);\n\n  /// Retriving comments from Firebase DB on page reload\n  useEffect(() => {\n    db.collection(\"posts\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot((snapshot) => {\n        setPosts(\n          snapshot.docs.map((doc) => ({\n            postId: doc.id,\n            post: doc.data(),\n          }))\n        );\n      });\n  }, []);\n\n  return (\n    <section\n      className=\"posts\"\n      style={{\n        filter: user ? \"blur(0px)\" : \"blur(6px)\",\n        userSelect: user ? \"\" : \"none\",\n      }}\n    >\n      {posts.map(({ postId, post }) => {\n        return (\n          <SinglePost\n            postId={postId}\n            key={postId}\n            uploadedImage={post.uploadedImage}\n            caption={post.caption}\n            username={post.username}\n            userPhoto={post.userPhoto}\n            getUsername={getUsername}\n            imageName={post.imageName}\n          />\n        );\n      })}\n    </section>\n  );\n};\n\nexport default Posts;\n","import \"../../Css-styles/CreatePost.css\";\nimport { MdAddAPhoto } from \"react-icons/md\";\nimport { UserContext } from \"../../UserContext\";\nimport { useState, useContext } from \"react\";\n\nimport firebase from \"firebase\";\nimport { storage, db } from \"../../Config/Firebase\";\n\nconst CreatePost = ({ slideUpload, setSlideUpload }) => {\n  const user = useContext(UserContext);\n  const [caption, setCaption] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const [progressBar, setProgressBar] = useState(0);\n  const [fileName, setFilename] = useState(\"\");\n\n  // let selectedImage;\n\n  const imageUploadHandler = (e) => {\n    // console.log(e.target.files[0]);\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n\n      setFilename(`Selected image: ${e.target.files[0].name}`);\n    }\n  };\n\n  const postUploadHandler = (e) => {\n    e.preventDefault();\n\n    if (image) {\n      const dataUploader = storage.ref(`/images/${image.name}`).put(image);\n\n      dataUploader.on(\n        \"state_changed\",\n        (snapshot) => {\n          const progress = Math.floor(\n            Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100)\n          );\n          setProgressBar(progress);\n        },\n        (error) => {\n          console.log(error.message);\n        },\n        () => {\n          storage\n            .ref(\"images\")\n            .child(`${image.name}`)\n            .getDownloadURL()\n            .then((imageUrl) => {\n              db.collection(\"posts\").add({\n                timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n                caption: caption,\n                username: user.email.replace(\"@gmail.com\", \"\"),\n                uploadedImage: imageUrl,\n                userPhoto: user.photoURL,\n                imageName: image.name,\n              });\n            });\n          setCaption(\"\");\n          setFilename(\"\");\n          setProgressBar(0);\n          setImage(\"null\");\n          setSlideUpload(!slideUpload);\n        }\n      );\n    }\n  };\n\n  return (\n    <section className={slideUpload ? \"upload\" : \"slide\"}>\n      <form action=\"\">\n        <label htmlFor=\"fileUpload\">\n          <MdAddAPhoto style={{ fontSize: \"1.5rem\", color: \"#ff6c0c\" }} />\n        </label>\n        <input\n          id=\"fileUpload\"\n          type=\"file\"\n          size=\"60\"\n          onChange={imageUploadHandler}\n          accept=\"image/*\"\n        />\n        <textarea\n          value={caption}\n          onChange={(e) => {\n            setCaption(e.target.value);\n          }}\n          rows=\"6\"\n          cols=\"50\"\n          className=\"upload__caption\"\n          placeholder=\"What's on your mind?\"\n        />\n        <button className=\"upload__button\" onClick={postUploadHandler}>\n          Post\n        </button>\n        <h1 className=\"upload__progress\">\n          {progressBar !== 0 ? progressBar : \"\"}\n        </h1>\n        <p id=\"file_name\">{fileName}</p>\n      </form>\n    </section>\n  );\n};\n\nexport default CreatePost;\n","const Welcome = () => {\n  return (\n    <div\n      className=\"welcome\"\n      style={{\n        marginBottom: \"70px\",\n        height: \"60vh\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <h1 className=\"Welcome__text\" style={{ fontWeight: \"300\" }}>\n        Please login to comment or explore posts\n      </h1>\n    </div>\n  );\n};\n\nexport default Welcome;\n","import Posts from \"./Posts/Posts\";\r\nimport CreatePost from \"./CreatePost/CreatePost\";\r\nimport Welcome from \"./Welcome\";\r\n\r\nconst Home = ({ user, slideUpload, getUsername, setSlideUpload }) => {\r\n  return (\r\n    <>\r\n      {user && slideUpload ? (\r\n        <CreatePost slideUpload={slideUpload} setSlideUpload={setSlideUpload} />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {user ? <Posts getUsername={getUsername} /> : <Welcome />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useState, useEffect } from \"react\";\nimport { UserContext } from \"./UserContext\";\nimport firebase from \"firebase\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useParams,\n} from \"react-router-dom\";\n\nimport \"./App.css\";\nimport Header from \"./Components/Header/Header\";\nimport Profile from \"./Components/ProfilePage\";\n\nimport Home from \"./Components/Home\";\n\nimport { auth, provider } from \"../src/Config/Firebase\";\n\nfunction App() {\n  const [slideUpload, setSlideUpload] = useState(false);\n  const [user, setUser] = useState(null);\n  const [profileUser, setProfileUser] = useState(\"\");\n\n  /// Keep users logged in on page reloads\n  useEffect(() => {\n    auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        setUser(authUser);\n      } else {\n        setUser(null);\n      }\n    });\n  }, [user]);\n\n  /// User Login\n  const login = () => {\n    firebase\n      .auth()\n      .setPersistence(\"session\")\n      .then(async () => {\n        const res = await firebase.auth().signInWithPopup(provider);\n        const loggedinUser = res.user;\n        setUser(loggedinUser);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  //User Logout\n  const logout = async () => {\n    try {\n      await auth.signOut();\n      console.log(\"Signout successful\");\n      setUser(null);\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  const getUsername = (e) => {\n    setProfileUser(e.target.innerText);\n    console.log(profileUser);\n  };\n\n  return (\n    <UserContext.Provider value={user}>\n      <Router>\n        <div className=\"App\">\n          <Header\n            slideUp={() => {\n              setSlideUpload(!slideUpload);\n            }}\n            login={login}\n            user={user}\n            logout={logout}\n          />\n          <Switch>\n            <Route path=\"/\" exact>\n              <Home\n                user={user}\n                slideUpload={slideUpload}\n                getUsername={getUsername}\n                setSlideUpload={setSlideUpload}\n              />\n            </Route>\n          </Switch>\n          <Switch>\n            <Route path=\"/:id\" exact>\n              <Profile profileUser={profileUser.toLowerCase()} />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}