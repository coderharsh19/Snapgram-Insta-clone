{"version":3,"sources":["UserContext.js","Components/Header/HeaderMenu.js","Components/Header/Header.js","Config/Firebase.js","Components/Posts/Comments.js","Components/Posts/CommentForm.js","Components/Posts/SinglePost.js","Components/Profile.js","Components/Posts/Posts.js","Components/CreatePost/CreatePost.js","Components/Welcome.js","Components/Home.js","App.js","index.js"],"names":["UserContext","React","createContext","HeaderMenu","slideUp","className","onClick","window","scrollTo","top","behavior","alert","Header","login","user","logout","to","style","fontWeight","userSelect","displayName","firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","storage","provider","GoogleAuthProvider","Comments","username","comment","commentId","postId","useContext","email","replace","collection","doc","delete","CommentForm","id","comments","useState","commentInput","setCommentInput","name","cols","rows","placeholder","value","onChange","e","target","type","preventDefault","add","timestamp","FieldValue","serverTimestamp","then","console","log","catch","error","SingePost","caption","uploadedImage","userPhoto","getUsername","setComments","useEffect","orderBy","onSnapshot","snapshot","docs","map","data","src","alt","fontSize","cursor","Profile","profileUser","posts","setPosts","where","post","filter","SinglePost","Posts","CreatePost","slideUpload","setCaption","image","setImage","progressBar","setProgressBar","fileName","setFilename","action","htmlFor","color","size","files","accept","ref","put","on","progress","Math","floor","round","bytesTransferred","totalBytes","message","child","getDownloadURL","imageUrl","photoURL","Welcome","marginBottom","Home","App","setSlideUpload","setUser","setProfileUser","onAuthStateChanged","authUser","a","signOut","Provider","setPersistence","signInWithPopup","res","loggedinUser","path","exact","innerText","toLowerCase","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.703af7bb.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const UserContext = React.createContext(null);\n","import { AiFillHome, AiFillMessage } from \"react-icons/ai\";\nimport { GoPerson } from \"react-icons/go\";\nimport { MdAddAPhoto } from \"react-icons/md\";\n\nconst HeaderMenu = ({ slideUp }) => {\n  const scrollToTop = () => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n  return (\n    /// Menu items\n    <ul className=\"header__menu\">\n      <li className=\"header__menu_items\">\n        <a>\n          <AiFillHome className=\"header__icons\" onClick={scrollToTop} />\n        </a>\n      </li>\n      <li className=\"header__menu_items\">\n        <a>\n          <AiFillMessage\n            className=\"header__icons inbox\"\n            onClick={() => {\n              alert(\"Feature will be implemented soon\");\n            }}\n          />\n        </a>\n      </li>\n      <li className=\"header__menu_items\">\n        <a>\n          <GoPerson\n            className=\"header__icons profile\"\n            onClick={() => {\n              alert(\"Feature will be implemented soon\");\n            }}\n          />\n        </a>\n      </li>\n      <li className=\"header__menu_items new_post\">\n        <a>\n          <MdAddAPhoto className=\"header__icons\" onClick={slideUp} />\n        </a>\n      </li>\n    </ul>\n  );\n};\n\nexport default HeaderMenu;\n","import \"../../Css-styles/Header.css\";\nimport { Link } from \"react-router-dom\";\n\nimport HeaderMenu from \"./HeaderMenu\";\n\nconst Header = ({ slideUp, login, user, logout }) => {\n  return (\n    <div className=\"header\">\n      <div className=\"header__inner_container\">\n        <Link to=\"/\">\n          <h1>Snapgram</h1>\n        </Link>\n\n        {/* CONDITIONAL RENDERING FOR USER*/}\n        {user ? (\n          <nav className=\"header__nav\">\n            <HeaderMenu slideUp={slideUp} />\n            <div className=\"header__nav_profile\">\n              <p style={{ fontWeight: \"600\", userSelect: \"none\" }}>\n                {user ? `Hello, ${user.displayName}` : \" \"}\n              </p>\n              <a className=\"btn header__logout_btn\" onClick={logout}>\n                Logout\n              </a>\n            </div>\n          </nav>\n        ) : (\n          <a className=\" btn header__login_btn\" onClick={login}>\n            Log-in/Sign-Up\n          </a>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import firebase from \"firebase\";\n\nconst firebaseApp = firebase.initializeApp({\n  apiKey: \"AIzaSyC03hYQihgWdUrN9kSGvwidfbYVhUkiGGA\",\n  authDomain: \"snapgram-43830.firebaseapp.com\",\n  projectId: \"snapgram-43830\",\n  storageBucket: \"snapgram-43830.appspot.com\",\n  messagingSenderId: \"723093481176\",\n  appId: \"1:723093481176:web:eb2eced8141c8e371099ad\",\n});\n\n// Initialize Firebase\n// firebase.initializeApp(firebaseConfig);\n\nconst auth = firebase.auth();\nconst db = firebaseApp.firestore();\nconst storage = firebase.storage();\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nexport { auth, db, storage, provider };\n","import { useContext } from \"react\";\nimport { UserContext } from \"../../UserContext\";\nimport { BiTrash } from \"react-icons/bi\";\nimport { db } from \"../../Config/Firebase\";\n\nconst Comments = ({ username, comment, commentId, postId }) => {\n  const user = useContext(UserContext);\n\n  /// Comment deletion (User Can delete only comment that he/she posted)\n  const deleteComment = () => {\n    db.collection(\"posts\")\n      .doc(postId)\n      .collection(\"comments\")\n      .doc(commentId)\n      .delete();\n  };\n\n  return (\n    <div className=\"comment\">\n      <h3 className=\"comment__username\">{username}</h3>\n      <p className=\"comment__text\">{comment}</p>\n\n      {user && user.email.replace(\"@gmail.com\", \"\") === username ? (\n        <BiTrash className=\"comment__delete\" onClick={deleteComment} />\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n};\n\nexport default Comments;\n","import { useState } from \"react\";\n\nimport { db } from \"../../Config/Firebase\";\nimport firebase from \"firebase\";\n\nconst CommentForm = ({ id, user, comments }) => {\n  const [commentInput, setCommentInput] = useState(\"\");\n\n  //// Pushing comments to comments sub collection based on individual posts ID\n  const commentHandler = (e) => {\n    e.preventDefault();\n\n    db.collection(\"posts\")\n      .doc(id)\n      .collection(\"comments\")\n      .add({\n        username: user.email.replace(\"@gmail.com\", \"\"),\n        comment: commentInput,\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      })\n      .then(() => {\n        setCommentInput(\"\");\n        console.log(\"Comment added to db\");\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  return (\n    <form className=\"comment_form\">\n      <textarea\n        name=\"\"\n        id=\"\"\n        cols=\"15\"\n        rows=\"3\"\n        className=\"comment_form__input\"\n        placeholder=\"Type your comment here...\"\n        value={commentInput}\n        onChange={(e) => {\n          setCommentInput(e.target.value);\n        }}\n      ></textarea>\n      <button\n        type=\"submit\"\n        className=\"comment_form__button\"\n        onClick={commentHandler}\n      >\n        Post\n      </button>\n    </form>\n  );\n};\n\nexport default CommentForm;\n","import Comments from \"./Comments\";\r\nimport CommentForm from \"./CommentForm\";\r\nimport { useContext, useState, useEffect } from \"react\";\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { BiTrash } from \"react-icons/bi\";\r\nimport { db } from \"../../Config/Firebase\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SingePost = ({\r\n  username,\r\n  caption,\r\n  uploadedImage,\r\n  userPhoto,\r\n  postId,\r\n  getUsername,\r\n}) => {\r\n  const user = useContext(UserContext);\r\n  const [comments, setComments] = useState([]);\r\n\r\n  /// Retriving comments from Firebase DB on page reload\r\n  useEffect(() => {\r\n    if (postId) {\r\n      db.collection(\"posts\")\r\n        .doc(postId)\r\n        .collection(\"comments\")\r\n        .orderBy(\"timestamp\")\r\n        .onSnapshot((snapshot) => {\r\n          setComments(\r\n            snapshot.docs.map((comment) => ({\r\n              comment: comment.data(),\r\n              commentId: comment.id,\r\n            }))\r\n          );\r\n        });\r\n    }\r\n  }, [postId]);\r\n\r\n  /// Post Deletion (User can delete only the posts that he uploaded)\r\n  const deletePost = () => {\r\n    db.collection(\"posts\")\r\n      .doc(postId)\r\n      .delete()\r\n      .then(() => {\r\n        console.log(\"Post  deleted \");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"single_post\">\r\n      <div className=\"single_post__header\">\r\n        <img src={userPhoto} alt=\"user\" className=\"single_post__thumbnail\" />\r\n\r\n        <Link to=\"/profile\">\r\n          <h3 className=\"single_post__username\" onClick={getUsername}>\r\n            {username}\r\n          </h3>\r\n        </Link>\r\n\r\n        <div className=\"single_post__delete\">\r\n          {user && user.email.replace(\"@gmail.com\", \"\") === username ? (\r\n            <BiTrash\r\n              onClick={deletePost}\r\n              style={{ fontSize: \"23px\", cursor: \"pointer\" }}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"single_post__data\">\r\n        <img src={uploadedImage} alt=\"random\" className=\"single_post__image\" />\r\n        <div className=\"single_post__caption__container\">\r\n          <h3 className=\"single_post__username\">{username}</h3>\r\n          <p className=\"single_post__caption\">{caption}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"comments__container\">\r\n        {comments\r\n          ? comments.map(({ comment, commentId }) => {\r\n              return (\r\n                <Comments\r\n                  key={commentId}\r\n                  username={comment.username}\r\n                  comment={comment.comment}\r\n                  commentId={commentId}\r\n                  postId={postId}\r\n                />\r\n              );\r\n            })\r\n          : \"\"}\r\n      </div>\r\n\r\n      {/*ONLY LOGGED IN USER CAN COMMENT */}\r\n      {user ? (\r\n        <CommentForm key={postId} id={postId} user={user} comments={comments} />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SingePost;\r\n","import { useState, useEffect } from \"react\";\r\nimport SinglePost from \"./Posts/SinglePost\";\r\nimport \"../Css-styles/Posts.css\";\r\nimport { useContext } from \"react\";\r\nimport { UserContext } from \"../UserContext\";\r\n\r\nimport { db } from \"../Config/Firebase\";\r\n\r\nconst Profile = ({ profileUser }) => {\r\n  const user = useContext(UserContext);\r\n\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  /// Retriving comments from Firebase DB on page reload\r\n\r\n  useEffect(() => {\r\n    db.collection(\"posts\")\r\n      .where(\"username\", \"==\", profileUser)\r\n      .onSnapshot((snapshot) => {\r\n        setPosts(\r\n          snapshot.docs.map((doc) => ({\r\n            postId: doc.id,\r\n            post: doc.data(),\r\n          }))\r\n        );\r\n      });\r\n  }, [profileUser]);\r\n\r\n  return (\r\n    <section\r\n      className=\"posts\"\r\n      style={{\r\n        filter: user ? \"blur(0px)\" : \"blur(6px)\",\r\n        userSelect: user ? \"\" : \"none\",\r\n      }}\r\n    >\r\n      {posts.map(({ postId, post }) => {\r\n        return (\r\n          <SinglePost\r\n            postId={postId}\r\n            key={postId}\r\n            uploadedImage={post.uploadedImage}\r\n            caption={post.caption}\r\n            username={post.username}\r\n            userPhoto={post.userPhoto}\r\n          />\r\n        );\r\n      })}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import { useState, useEffect } from \"react\";\nimport SinglePost from \"./SinglePost\";\nimport \"../../Css-styles/Posts.css\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"../../UserContext\";\n\nimport { db } from \"../../Config/Firebase\";\n\nconst Posts = ({ getUsername }) => {\n  const user = useContext(UserContext);\n\n  const [posts, setPosts] = useState([]);\n\n  /// Retriving comments from Firebase DB on page reload\n  useEffect(() => {\n    db.collection(\"posts\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot((snapshot) => {\n        setPosts(\n          snapshot.docs.map((doc) => ({\n            postId: doc.id,\n            post: doc.data(),\n          }))\n        );\n      });\n  }, []);\n\n  return (\n    <section\n      className=\"posts\"\n      style={{\n        filter: user ? \"blur(0px)\" : \"blur(6px)\",\n        userSelect: user ? \"\" : \"none\",\n      }}\n    >\n      {posts.map(({ postId, post }) => {\n        return (\n          <SinglePost\n            postId={postId}\n            key={postId}\n            uploadedImage={post.uploadedImage}\n            caption={post.caption}\n            username={post.username}\n            userPhoto={post.userPhoto}\n            getUsername={getUsername}\n          />\n        );\n      })}\n    </section>\n  );\n};\n\nexport default Posts;\n","import \"../../Css-styles/CreatePost.css\";\nimport { MdAddAPhoto } from \"react-icons/md\";\nimport { UserContext } from \"../../UserContext\";\nimport { useState, useContext } from \"react\";\n\nimport firebase from \"firebase\";\nimport { storage, db } from \"../../Config/Firebase\";\n\nconst CreatePost = ({ slideUpload }) => {\n  const user = useContext(UserContext);\n  const [caption, setCaption] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const [progressBar, setProgressBar] = useState(0);\n  const [fileName, setFilename] = useState(\"\");\n\n  // let selectedImage;\n\n  const imageUploadHandler = (e) => {\n    // console.log(e.target.files[0]);\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n      console.log(e.target.files[0]);\n      setFilename(`Selected image: ${e.target.files[0].name}`);\n    }\n  };\n\n  const postUploadHandler = (e) => {\n    e.preventDefault();\n\n    if (image) {\n      const dataUploader = storage.ref(`/images/${image.name}`).put(image);\n\n      dataUploader.on(\n        \"state_changed\",\n        (snapshot) => {\n          const progress = Math.floor(\n            Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100)\n          );\n          setProgressBar(progress);\n        },\n        (error) => {\n          console.log(error.message);\n        },\n        () => {\n          storage\n            .ref(\"images\")\n            .child(`${image.name}`)\n            .getDownloadURL()\n            .then((imageUrl) => {\n              db.collection(\"posts\").add({\n                timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n                caption: caption,\n                username: user.email.replace(\"@gmail.com\", \"\"),\n                uploadedImage: imageUrl,\n                userPhoto: user.photoURL,\n              });\n            });\n          setCaption(\"\");\n          setFilename(\"\");\n          setProgressBar(0);\n          setImage(\"null\");\n        }\n      );\n    }\n  };\n\n  return (\n    <section className={slideUpload ? \"upload\" : \"slide\"}>\n      <form action=\"\">\n        <label htmlFor=\"fileUpload\">\n          <MdAddAPhoto style={{ fontSize: \"1.5rem\", color: \"#ff6c0c\" }} />\n        </label>\n        <input\n          id=\"fileUpload\"\n          type=\"file\"\n          size=\"60\"\n          onChange={imageUploadHandler}\n          accept=\"image/*\"\n        />\n        <textarea\n          value={caption}\n          onChange={(e) => {\n            setCaption(e.target.value);\n          }}\n          rows=\"6\"\n          cols=\"50\"\n          className=\"upload__caption\"\n          placeholder=\"What's on your mind?\"\n        />\n        <button className=\"upload__button\" onClick={postUploadHandler}>\n          Post\n        </button>\n        <h1 className=\"upload__progress\">\n          {progressBar !== 0 ? progressBar : \"\"}\n        </h1>\n        <p id=\"file_name\">{fileName}</p>\n      </form>\n    </section>\n  );\n};\n\nexport default CreatePost;\n","const Welcome = () => {\n  return (\n    <div className=\"welcome\" style={{ marginBottom: \"70px\" }}>\n      <h1 className=\"Welcome__text\" style={{ fontWeight: \"300\" }}>\n        Please login to comment or explore posts\n      </h1>\n    </div>\n  );\n};\n\nexport default Welcome;\n","import Posts from \"./Posts/Posts\";\r\nimport CreatePost from \"./CreatePost/CreatePost\";\r\nimport Welcome from \"./Welcome\";\r\n\r\nconst Home = ({ user, slideUpload, getUsername }) => {\r\n  return (\r\n    <>\r\n      {user && slideUpload ? <CreatePost slideUpload={slideUpload} /> : \"\"}\r\n      {user ? \"\" : <Welcome />}\r\n      <Posts getUsername={getUsername} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useState, useEffect } from \"react\";\nimport { UserContext } from \"./UserContext\";\nimport { UsernameContext } from \"./UsernameContext\";\nimport firebase from \"firebase\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nimport \"./App.css\";\nimport Header from \"./Components/Header/Header\";\nimport Profile from \"./Components/Profile\";\n\nimport Home from \"./Components/Home\";\n\nimport { auth, provider } from \"../src/Config/Firebase\";\n\nfunction App() {\n  const [slideUpload, setSlideUpload] = useState(false);\n  const [user, setUser] = useState(null);\n  const [profileUser, setProfileUser] = useState(\"\");\n\n  /// Keep users logged in on page reloads\n  useEffect(() => {\n    auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        setUser(authUser);\n      } else {\n        setUser(null);\n      }\n    });\n  }, [user]);\n\n  /// User Login\n  const login = () => {\n    firebase\n      .auth()\n      .setPersistence(\"session\")\n      .then(async () => {\n        const res = await firebase.auth().signInWithPopup(provider);\n        const loggedinUser = res.user;\n        setUser(loggedinUser);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  //User Logout\n  const logout = async () => {\n    try {\n      await auth.signOut();\n      console.log(\"Signout successful\");\n      setUser(null);\n    } catch (error) {\n      throw error;\n    }\n  };\n\n  const getUsername = (e) => {\n    setProfileUser(e.target.innerText);\n    console.log(profileUser);\n  };\n\n  return (\n    <UserContext.Provider value={user}>\n      <Router>\n        <div className=\"App\">\n          <Header\n            slideUp={() => {\n              setSlideUpload(!slideUpload);\n            }}\n            login={login}\n            user={user}\n            logout={logout}\n          />\n          <Switch>\n            <Route path=\"/\" exact>\n              <Home\n                user={user}\n                slideUpload={slideUpload}\n                getUsername={getUsername}\n              />\n            </Route>\n          </Switch>\n          <Switch>\n            <Route path=\"/profile\" exact>\n              <Profile profileUser={profileUser.toLowerCase()} />\n            </Route>\n          </Switch>\n\n          {/*{user && slideUpload ? <CreatePost slideUpload={slideUpload} /> : \"\"}\n          {user ? \"\" : <Welcome />}\n          <Posts /> */}\n        </div>\n      </Router>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}